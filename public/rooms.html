<div class="card">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a onclick="localStorage.setItem('active',1);" href="#">Dashboard</a></li>
        <li class="breadcrumb-item"><a onclick="localStorage.setItem('active',3);" href="#/homes">Locations</a></li>
        <li class="breadcrumb-item active">{{rm.params.placeName}}</li>
    </ol>
</div>
<div class="container-fluid" xmlns="http://www.w3.org/1999/html">
    <div class="row">
        <div class="col-md-12">
            <!--Form Start-->
            <div class="row">
                <form ng-submit="rm.addRoom()">
                <div class="col-lg-2 col-md-3 col-sm-6 col-xs-6">
                    <div class="form-group">
                        <input type="text" ng-model="newroom" placeholder="Room Name" class="form-control">
                    </div>
                </div>
                <div class="col-lg-2 col-md-3 col-sm-6 col-xs-6">
                    <div class="form-group"
                         ng-init="totalPins=[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27]">
                        <li class="dropdown">
                            <a class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                                <input type="text" ng-model="pir" placeholder="PIR" class="form-control">
                            </a>
                            <ul class="dropdown-menu pre-scrollable">
                                <li ng-repeat="pin in totalPins" ng-click="rm.setPir(pin);"><a>{{pin}}</a></li>
                            </ul>
                        </li>
                    </div>
                </div>
                    <div class="col-lg-2 col-md-3 col-sm-6 col-xs-6">
                    <div class="form-group">
                        <button type="submit" class="btn btn-success btn-fill">Add New Room</button>
                    </div>
                </div>
                </form>
            </div>
            <!--Form End-->
            <div class="card" style="padding-bottom: 20px">
                <div class="header">
                    <h4 class="title">Rooms</h4>
                    <br/>
                    <br/>
                    <div style="text-align: center;">
                        <div class="row">
                            <div class="font-icon-list col-lg-4 col-md-6 col-sm-12 col-xs-12" ng-repeat="room in rooms">
                                <div class="card content">
                                    <!--Room Element Start-->
                                    <div class="row">
                                        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
                                            <i class="pe-7s-home myicon"></i>
                                            <div>
                                                <label>{{room.name}}</label>
                                            </div>
                                            <div>
                                                PIR: {{room.PIR}}
                                            </div>
                                        </div>
                                        <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8"
                                             style="margin-bottom: 25px">
                                            <div class="row">
                                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                    <a ng-href="#/room/{{room.PlaceName}}/{{room.name}}">
                                                        <button type="button"
                                                                class="btn btn-primary btn-fill btn-block"
                                                                ng-click="">View
                                                        </button>
                                                    </a>
                                                </div>
                                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                    <a>
                                                        <button type="button" data-toggle="modal"
                                                                ng-click="rm.getRoom(room.name)"
                                                                data-target="#myModal"
                                                                class="btn btn-warning btn-fill btn-block">Edit
                                                        </button>
                                                    </a>
                                                </div>
                                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">

                                                    <button type="button"
                                                            class="btn btn-danger btn-fill btn-block"
                                                            ng-click="rm.deleteRoom(room.name);">
                                                        Delete
                                                    </button>
                                                </div>
                                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                                    <a>
                                                        <button type="button" data-toggle="modal"
                                                                ng-click="rm.getRoomKey(room._id)"
                                                                data-target="#apiModal"
                                                                class="btn btn-success btn-fill btn-block">View Room Key
                                                        </button>
                                                    </a>
                                                </div>
                                                <div class="modal fade" id="myModal" role="dialog">
                                                    <div class="modal-dialog">

                                                        <!-- Modal content-->
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <button type="button" class="close"
                                                                        data-dismiss="modal">&times;</button>
                                                                <h4 class="modal-title">{{roomToBeEdited}}</h4>
                                                            </div>
                                                            <div class="modal-body">
                                                                <input type="text" ng-model="rm.newname">
                                                                <button class="btn btn-primary btn-fill"
                                                                        type="submit" value="Update"
                                                                        ng-click="rm.editRoom(rm.newname)">
                                                                    Update
                                                            </button>
                                                        </div>
                                                            <div class="modal-footer">
                                                                <button type="button"  class="btn btn-default"
                                                                        data-dismiss="modal">Close
                                                            </button>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                                <div class="modal fade" id="apiModal" role="dialog">
                                                    <div class="modal-dialog">

                                                        <!-- Modal content-->
                                                        <div class="modal-content">
                                                            <div class="modal-header">
                                                                <button type="button" class="close"
                                                                        data-dismiss="modal">&times;</button>
                                                                <h4 class="modal-title">Room Key for {{roomToBeEdited}}</h4>
                                                            </div>
                                                            <div class="modal-body">
                                                                <p>{{rm.apikey}}</p>
                                                                <button class="btn btn-primary btn-fill"
                                                                        type="button" value="Ok"
                                                                        data-dismiss="modal">
                                                                    Ok
                                                                </button>
                                                            </div>
                                                            <div class="modal-footer">
                                                                <button type="button"  class="btn btn-default"
                                                                        data-dismiss="modal">Close
                                                                </button>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="clearfix"></div>
                                        </div>
                                    </div>
                                </div>
                                    <!--Room Element End-->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


